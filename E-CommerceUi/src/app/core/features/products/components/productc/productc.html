<div class="card h-100 shadow-sm item-card border-0 overflow-hidden">
  <div class="position-relative bg-light img-wrapper cursor-pointer">
    <img
      [src]="'https://localhost:7247' + data.imageUrl"
      class="card-img-top p-3"
      [alt]="data.name"
    />
    @if (data.discountPrice && data.discountPrice < data.price) {
      <span class="badge bg-danger position-absolute top-0 start-0 m-3 shadow-sm scale-in"
        >SALE</span
      >
    }
  </div>

  <div class="card-body text-center d-flex flex-column p-3">
    <h5 class="card-title text-dark fw-bold mb-2">{{ data.name }}</h5>
    <p class="card-text text-muted small mb-0">{{ data.description }}</p>
  </div>

  <div class="card-footer bg-white border-top-0 pb-3 mt-auto px-3">
    <div class="text-center mb-3">
      @if (data.discountPrice && data.discountPrice > 0) {
        <span class="text-success fw-bold fs-5 me-2">{{ data.discountPrice }} EGP</span>
        <span class="text-muted text-decoration-line-through small">{{ data.price }} EGP</span>
      } @else {
        <span class="text-dark fw-bold fs-5">{{ data.price }} EGP</span>
      }
    </div>

    <div class="d-flex justify-content-between align-items-center">
      @if (!addButton) {
        <button
          class="btn btn-outline-success w-100 py-2 fw-bold rounded-3 shadow-sm transition-all"
          (click)="toggleAdd($event)"
        >
          <i class="fa fa-cart-plus me-2"></i>Add To Cart
        </button>
      } @else {
        <div class="d-flex gap-2 w-100 animate__animated animate__fadeIn">
          <input
            type="number"
            class="form-control text-center border-success fw-bold qty-input"
            [(ngModel)]="amount"
            (click)="$event.stopPropagation()"
            min="1"
            max="10"
          />
          <button class="btn btn-success px-3 shadow-sm rounded-3 fw-bold" (click)="add($event)">
            Confirm
          </button>
        </div>
      }
    </div>
  </div>
</div>
